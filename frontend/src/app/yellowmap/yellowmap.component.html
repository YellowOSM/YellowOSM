<div class="yosm__container">
<mat-toolbar color="secondary" class="yosm__toolbar">
  <a href="/" class="yosm__logo-wrapper">
    <img class="yosm__logo" src="assets/img/logo.svg" alt="YellowOSM - Open Locations">
  </a>
  <mat-form-field [floatLabel]="'never'" class="yosm__search">
    <input type="text" matInput placeholder="z.B. CafÃ©, Apotheke, Bankomat, Bar..." [formControl]="searchFormControl"
           [matAutocomplete]="auto" #searchInput [matAutocompleteConnectedTo]="origin"
           (keydown.enter)="searchElasticSearch(); hideKeyboard()">
    <button mat-button *ngIf="searchFormControl.value" matSuffix mat-icon-button aria-label="Clear"
            (click)="searchFormControl.setValue(''); clearSearch()">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <div class="yosm__search-button-wrapper">
    <mat-icon (click)="searchElasticSearch(); hideKeyboard()">search</mat-icon>
  </div>

</mat-toolbar>

<div class="yosm__autocomplete-wrapper" matAutocompleteOrigin #origin="matAutocompleteOrigin"></div>

<mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" panelWidth="100%" >
  <mat-option *ngFor="let option of filteredOptions | async" [value]="option" (click)="searchElasticSearch()">
    {{option}}
  </mat-option>
</mat-autocomplete>

<div class="yosm__map-wrapper">
  <div id="map" class="map"></div>
  <div [className]="selectedFeature ? 'details__wrapper active' : 'details__wrapper'">
    <app-location-detail [feature]="selectedFeature"></app-location-detail>
  </div>
  <div class="footer">
    <a class="footer__osm-link"
       href="https://osm.org/#map={{previousUrlParams['zoom']}}/{{previousUrlParams['lat']}}/{{previousUrlParams['lon']}}"
       target="_blank">
      OSM-Link
    </a>
  </div>
</div>
</div>
